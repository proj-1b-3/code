@startuml
skinparam defaultFontSize 16
skinparam defaultFontName IBM Plex Mono
skinparam classAttributeIconSize 0

class Program {
	Main(args: String[]): void
}

Program ..> Server
Program ..> Client

class Server {
	- DataBase : DataSet
	- ActiveUsers : Dictionary<Guid, String>
	____
	+ Server()
	____
	+ Start(): void
	+ Stop(): void
	+ TryLogin(username: String, password: String, user: out User): Boolean
	+ TryLogout(session_token: Guid): Boolean
	+ TryRegister(username: String, password: String): Boolean
	+ TryDeregister(session_token: Guid, password: String): Boolean
}

Server -r- Client

class Client {
	- CurrentUser: User
	- Connection: Server
	- _Stop: Boolean
	+ Commands: Dictionary<String, Command>
	+ Command: void Delegate(void)
	____
	+ get_Stop(): Boolean
	____
	+ Client()
	____
	- ReadField(field_name: String): String
	+ Help(): void
	+ Login(): void
	+ Logout(): void
	+ Register(): void
	+ Deregister(): void
	+ BuyTicket(): void
	+ AddRoom(): void
	+ ListRooms(): void
}

Client ..> User

class User {
	- Name: String
	- Token: Byte[]
	____
	+ get_Id(): Int32
	+ get_Name(): String
}

enum Role {
	Owner
	CafeManager
	Manager
	Consumer
}

together {
	class Product {
		- Id : Int32
		+ Name : String
		+ Discription : String
		- Price : Int32
		____
		+ get_Id() : Int32
		+ get_Price() : Int32
	}

	class Ticket {
		+ EscapeRoomId : Int32
		+ UserName : String
		+ EndDate : Date
	}

	class Consumable {
		+ Items : Consumable[]
	}

	Consumable -up-|> Product
	Ticket -up-|> Product
}

@enduml
